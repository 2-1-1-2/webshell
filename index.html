<!DOCTYPE html>
<html lang="en">
  <head>
    <script type="module">
      import * as _main from "./src/main.ts";
      const keyboardEvent = new KeyboardEvent("keydown", {
        code: "Enter",
        key: "Enter",
        charCode: 13,
        keyCode: 13,
        view: window,
        bubbles: true,
      });
      let choice = document.getElementById("choice");
      const COMMANDS = _main.COMMANDS;
      console.log(COMMANDS);
      for (let prop in COMMANDS) {
        console.log(COMMANDS[prop]);

        var x = document.createElement("BUTTON");
        var t = document.createTextNode(COMMANDS[prop]);
        x.appendChild(t);
        x.addEventListener("click", function () {
        console.log("here");
        document.getElementById("user-input").value += COMMANDS[prop];
        _main.enterKey();
      });
        choice.appendChild(x);
      }
    </script>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="src/css/css-reset.css" />
    <link rel="stylesheet" href="src/css/style.css" />
    <link rel="icon" type="image/x-png" href="/res/logo.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0 maximum-scale=1" />
    <script src="https://kit.fontawesome.com/d5effce557.js" crossorigin="anonymous"></script>
    <title>WebShell</title>
  </head>

  <body>
    <main id="main">
      <div id="bars">
        <div id="bar-1">WebShell.x64_x86</div>
        <div id="bar-2"></div>
        <div id="bar-3"></div>
        <div id="bar-4"></div>
        <div id="bar-5"></div>
      </div>
      <br />
      <div id="terminal">
        <div>
          <span id="prompt"><span id="pre-user"></span>@<span id="pre-host"></span>:$ ~ </span>
        </div>
        <!-- command output will be inserted before #write-lines-->
        <a id="write-lines"></a>
      </div>
      <div id="input-line">
        <div>
          <p id="password-input" style="display: none">Password: <input id="password-field" autocomplete="off" type="password" /></p>
          <p id="input-hidden">
            <span id="prompt"><span id="user"></span>@<span id="host"></span>:$ ~ </span><br />
            <div id="choice"></div>
            <!-- 
            <button id="button_help">help</button>
            <button>about</button>
            <button>test</button>
            <button>test</button> -->
            <input id="user-input" type="text" enterkeyhint="Enter" spellcheck="false" autocapitalize="none" autocomplete="off" />
          </p>
        </div>
        <br />
      </div>
    </main>
  </body>

  <script type="module" src="./src/styles.ts"></script>
  <script type="module" src="./src/main.ts"></script>
</html>
